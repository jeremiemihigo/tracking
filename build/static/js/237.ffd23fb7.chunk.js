"use strict";(self.webpackChunkfront=self.webpackChunkfront||[]).push([[237],{267237:(e,s,r)=>{r.r(s),r.d(s,{default:()=>E});var n=r(260899),i=r(716491),a=r(150098),t=r(244414);const l=e=>{let{children:s,...r}=e;return(0,t.jsx)(a.A,{sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1,...r,border:!1,boxShadow:!0,children:(0,t.jsx)(i.A,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:s})})},d=e=>{let{children:s}=e;return(0,t.jsx)(i.A,{sx:{minHeight:"100vh",backgroundColor:"#d2d5d9"},children:(0,t.jsx)(n.Ay,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:(0,t.jsx)(n.Ay,{item:!0,xs:12,children:(0,t.jsx)(n.Ay,{item:!0,xs:12,container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:{xs:"calc(100vh - 134px)",md:"calc(100vh - 112px)"}},children:(0,t.jsx)(n.Ay,{item:!0,lg:4,children:(0,t.jsx)(l,{children:s})})})})})})};var o=r(409950),c=r(66821),h=r(19647),x=r(102660),u=r(124516),m=r(702046),p=r(325333),j=r(689505),w=r(274745),g=r(182053),A=r(29246),v=r(243939),y=r(560666),b=r(525371);function f(e){let{children:s,type:r}=e;return(0,t.jsx)(b.P.div,{whileHover:{scale:1},whileTap:{scale:.9},children:s})}var k=r(754021),S=r(879942),C=r(315770);const B=()=>{const[e,s]=o.useState(!1),r=()=>{s(!e)},i=e=>{e.preventDefault()};return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(v.l1,{initialValues:{username:"",password:"",submit:null},validationSchema:y.Ik().shape({username:y.Yj().max(255).required("username is required"),password:y.Yj().max(255).required("Password is required")}),onSubmit:async(e,s)=>{let{setErrors:r,setStatus:n,setSubmitting:i}=s;try{const s=await A.A.post(C.wp+"/login",{username:e.username,password:e.password});var a,t,l;if(s.data.token)localStorage.setItem("auth",s.data.token),(["managment","field","ZBM"].includes((0,C.sE)(null===(a=s.data)||void 0===a?void 0:a.role))||(0,C.a0)(null===(t=s.data)||void 0===t?void 0:t.role))&&window.location.replace("/analyse"),"team"===(0,C.sE)(null===(l=s.data)||void 0===l?void 0:l.role)&&window.location.replace("/");else r({submit:s.data}),n({success:!1}),i(!1)}catch(d){n({success:!1}),r({submit:d.message}),i(!1)}},children:s=>{let{errors:a,handleBlur:l,handleChange:d,handleSubmit:o,isSubmitting:A,touched:v,values:y}=s;return(0,t.jsx)("form",{noValidate:!0,onSubmit:o,children:(0,t.jsxs)(n.Ay,{container:!0,spacing:3,children:[(0,t.jsx)(n.Ay,{item:!0,xs:12,children:(0,t.jsxs)(c.A,{spacing:1,children:[(0,t.jsx)(h.A,{htmlFor:"username",children:"Username"}),(0,t.jsx)(x.A,{id:"username",type:"text",value:y.username,name:"username",onBlur:l,onChange:d,placeholder:"Enter username",fullWidth:!0,error:Boolean(v.username&&a.username)}),v.username&&a.username&&(0,t.jsx)(u.A,{error:!0,id:"standard-weight-helper-text-username",children:a.username})]})}),(0,t.jsx)(n.Ay,{item:!0,xs:12,children:(0,t.jsxs)(c.A,{spacing:1,children:[(0,t.jsx)(h.A,{htmlFor:"password-login",children:"Password"}),(0,t.jsx)(x.A,{fullWidth:!0,error:Boolean(v.password&&a.password),id:"-password-login",type:e?"text":"password",value:y.password,name:"password",onBlur:l,onChange:d,endAdornment:(0,t.jsx)(m.A,{position:"end",children:(0,t.jsx)(p.A,{"aria-label":"toggle password visibility",onClick:r,onMouseDown:i,edge:"end",size:"large",children:e?(0,t.jsx)(k.A,{}):(0,t.jsx)(S.A,{})})}),placeholder:"Enter password"}),v.password&&a.password&&(0,t.jsx)(u.A,{error:!0,id:"standard-weight-helper-text-password-login",children:a.password})]})}),a.submit&&(0,t.jsx)(n.Ay,{item:!0,xs:12,children:(0,t.jsx)(u.A,{error:!0,children:a.submit})}),(0,t.jsx)(n.Ay,{item:!0,xs:12,children:(0,t.jsx)(f,{children:(0,t.jsx)(j.A,{disableElevation:!0,disabled:A,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Login"})})}),(0,t.jsx)(n.Ay,{item:!0,xs:12,children:(0,t.jsx)(w.A,{children:(0,t.jsx)(g.A,{variant:"caption",children:" Login with Bboxx Default Tracker"})})})]})})}})})},E=()=>(0,t.jsx)(d,{children:(0,t.jsx)(n.Ay,{container:!0,children:(0,t.jsx)(n.Ay,{item:!0,xs:12,children:(0,t.jsx)(B,{})})})})}}]);